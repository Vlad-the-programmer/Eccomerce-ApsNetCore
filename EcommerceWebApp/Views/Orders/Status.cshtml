@using EcommerceWebApp.Helpers.Orders
@using EcommerceWebApp.AppGlobals
@model OrderViewModel
@{
    Layout = "_Layout";
}

@section top {
    <div class="bg-light py-3 border-bottom shadow-sm mb-4">
        <div class="container">
            <h3 class="text-center text-muted mb-0">Order <strong>@Model.Code</strong></h3>
        </div>
    </div>
}

<div class="row">
    <ul class="list-group col-sm-8">
        <li class="list-group-item list-group-item-primary">Products</li>
        @foreach (KeyValuePair<OrderItemViewModel, int> kvp in ViewBag.Products)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href=@Url.Action("details", "products", new { code = kvp.Key.ProductId }) class="text-dark nounderline">@kvp.Key.ProductBrand @kvp.Key.ProductName</a>
                @if (kvp.Value > 1)
                {
                    <span class="badge badge-primary badge-pill">@kvp.Value unit(s)</span>
                }
            </li>
        }
    </ul>
    <ul class="list-group col-sm-4">
        <li class="list-group-item list-group-item-primary">Status</li>
        @if (Model.OrderStatus == EcommerceWebApp.Helpers.Enums.OrderStatuses.Paid)
        {
            <li class="list-group-item list-group-item-success d-flex">
                Paid  -  @((Model.TotalAmount / 100).ToString("C"))
            </li>
        }
        else
        {
            <li class="list-group-item list-group-item-danger d-flex">
                UnPaid  -  @((Model.TotalAmount / 100).ToString("C"))
            </li>
        }
        <li class="list-group-item list-group-item d-flex">
            Status  -  @OrderProcessingFuncs.GetStringValue(Model.OrderStatus)
        </li>
    </ul>
</div>